import{I as De,aN as $e,aP as Ne}from"./vitepress-plugin-mermaid.ffrRrlqL.js";import{p as Ve,a as Ae,b as Qe,n as j,d as Ue,c as qe,e as _e}from"./micromark.w4vVcktF.js";const Ge={};function Je(t,i){const r=i||Ge,s=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,d=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return _(t,s,d)}function _(t,i,r){if(Ke(t)){if("value"in t)return t.type==="html"&&!r?"":t.value;if(i&&"alt"in t&&t.alt)return t.alt;if("children"in t)return A(t.children,i,r)}return Array.isArray(t)?A(t,i,r):""}function A(t,i,r){const s=[];let d=-1;for(;++d<t.length;)s[d]=_(t[d],i,r);return s.join("")}function Ke(t){return!!(t&&typeof t=="object")}function B(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Q(t.position):"start"in t||"end"in t?Q(t):"line"in t||"column"in t?C(t):""}function C(t){return U(t&&t.line)+":"+U(t&&t.column)}function Q(t){return C(t&&t.start)+"-"+C(t&&t.end)}function U(t){return t&&typeof t=="number"?t:1}const G={}.hasOwnProperty,J=function(t,i,r){return typeof i!="string"&&(r=i,i=void 0),Xe(r)(Ve(Ae(r).document().write(Qe()(t,i,!0))))};function Xe(t){const i={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(N),autolinkProtocol:y,autolinkEmail:y,atxHeading:l(P),blockQuote:l(Be),characterEscape:y,characterReference:y,codeFenced:l(M),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(M,u),codeText:l(Re,u),codeTextData:y,data:y,codeFlowValue:y,definition:l(He),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(je),hardBreakEscape:l(D),hardBreakTrailing:l(D),htmlFlow:l($,u),htmlFlowData:y,htmlText:l($,u),htmlTextData:y,image:l(Ce),label:u,link:l(N),listItem:l(We),listItemValue:v,listOrdered:l(V,R),listUnordered:l(V),paragraph:l(Oe),reference:we,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(P),strong:l(ze),thematicBreak:l(Pe)},exit:{atxHeading:f(),atxHeadingSequence:ae,autolink:f(),autolinkEmail:Fe,autolinkProtocol:Le,blockQuote:f(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:z,characterReferenceMarkerNumeric:z,characterReferenceValue:Ee,codeFenced:f(ie),codeFencedFence:ne,codeFencedFenceInfo:ee,codeFencedFenceMeta:te,codeFlowValue:k,codeIndented:f(re),codeText:f(ge),codeTextData:k,data:k,definition:f(),definitionDestinationString:oe,definitionLabelString:se,definitionTitleString:ce,emphasis:f(),hardBreakEscape:f(O),hardBreakTrailing:f(O),htmlFlow:f(he),htmlFlowData:k,htmlText:f(pe),htmlTextData:k,image:f(xe),label:ke,labelText:ye,lineEnding:ue,link:f(me),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:Ie,resourceDestinationString:be,resourceTitleString:Te,resource:Se,setextHeading:f(de),setextHeadingLineSequence:fe,setextHeadingText:le,strong:f(),thematicBreak:f()}};K(i,(t||{}).mdastExtensions||[]);const r={};return s;function s(e){let n={type:"root",children:[]};const c={stack:[n],tokenStack:[],config:i,enter:m,exit:S,buffer:u,resume:E,setData:a,getData:o},h=[];let p=-1;for(;++p<e.length;)if(e[p][1].type==="listOrdered"||e[p][1].type==="listUnordered")if(e[p][0]==="enter")h.push(p);else{const x=h.pop();p=d(e,x,p)}for(p=-1;++p<e.length;){const x=i[e[p][0]];G.call(x,e[p][1].type)&&x[e[p][1].type].call(Object.assign({sliceSerialize:e[p][2].sliceSerialize},c),e[p][1])}if(c.tokenStack.length>0){const x=c.tokenStack[c.tokenStack.length-1];(x[1]||q).call(c,void 0,x[0])}for(n.position={start:I(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:I(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},p=-1;++p<i.transforms.length;)n=i.transforms[p](n)||n;return n}function d(e,n,c){let h=n-1,p=-1,x=!1,w,b,L,F;for(;++h<=c;){const g=e[h];if(g[1].type==="listUnordered"||g[1].type==="listOrdered"||g[1].type==="blockQuote"?(g[0]==="enter"?p++:p--,F=void 0):g[1].type==="lineEndingBlank"?g[0]==="enter"&&(w&&!F&&!p&&!L&&(L=h),F=void 0):g[1].type==="linePrefix"||g[1].type==="listItemValue"||g[1].type==="listItemMarker"||g[1].type==="listItemPrefix"||g[1].type==="listItemPrefixWhitespace"||(F=void 0),!p&&g[0]==="enter"&&g[1].type==="listItemPrefix"||p===-1&&g[0]==="exit"&&(g[1].type==="listUnordered"||g[1].type==="listOrdered")){if(w){let H=h;for(b=void 0;H--;){const T=e[H];if(T[1].type==="lineEnding"||T[1].type==="lineEndingBlank"){if(T[0]==="exit")continue;b&&(e[b][1].type="lineEndingBlank",x=!0),T[1].type="lineEnding",b=H}else if(!(T[1].type==="linePrefix"||T[1].type==="blockQuotePrefix"||T[1].type==="blockQuotePrefixWhitespace"||T[1].type==="blockQuoteMarker"||T[1].type==="listItemIndent"))break}L&&(!b||L<b)&&(w._spread=!0),w.end=Object.assign({},b?e[b][1].start:g[1].end),e.splice(b||h,0,["exit",w,g[2]]),h++,c++}g[1].type==="listItemPrefix"&&(w={type:"listItem",_spread:!1,start:Object.assign({},g[1].start),end:void 0},e.splice(h,0,["enter",w,g[2]]),h++,c++,L=void 0,F=!0)}}return e[n][1]._spread=x,c}function a(e,n){r[e]=n}function o(e){return r[e]}function l(e,n){return c;function c(h){m.call(this,e(h),h),n&&n.call(this,h)}}function u(){this.stack.push({type:"fragment",children:[]})}function m(e,n,c){return this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([n,c]),e.position={start:I(n.start)},e}function f(e){return n;function n(c){e&&e.call(this,c),S.call(this,c)}}function S(e,n){const c=this.stack.pop(),h=this.tokenStack.pop();if(h)h[0].type!==e.type&&(n?n.call(this,e,h[0]):(h[1]||q).call(this,e,h[0]));else throw new Error("Cannot close `"+e.type+"` ("+B({start:e.start,end:e.end})+"): itâ€™s not open");return c.position.end=I(e.end),c}function E(){return Je(this.stack.pop())}function R(){a("expectingFirstListItemValue",!0)}function v(e){if(o("expectingFirstListItemValue")){const n=this.stack[this.stack.length-2];n.start=Number.parseInt(this.sliceSerialize(e),10),a("expectingFirstListItemValue")}}function ee(){const e=this.resume(),n=this.stack[this.stack.length-1];n.lang=e}function te(){const e=this.resume(),n=this.stack[this.stack.length-1];n.meta=e}function ne(){o("flowCodeInside")||(this.buffer(),a("flowCodeInside",!0))}function ie(){const e=this.resume(),n=this.stack[this.stack.length-1];n.value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),a("flowCodeInside")}function re(){const e=this.resume(),n=this.stack[this.stack.length-1];n.value=e.replace(/(\r?\n|\r)$/g,"")}function se(e){const n=this.resume(),c=this.stack[this.stack.length-1];c.label=n,c.identifier=j(this.sliceSerialize(e)).toLowerCase()}function ce(){const e=this.resume(),n=this.stack[this.stack.length-1];n.title=e}function oe(){const e=this.resume(),n=this.stack[this.stack.length-1];n.url=e}function ae(e){const n=this.stack[this.stack.length-1];if(!n.depth){const c=this.sliceSerialize(e).length;n.depth=c}}function le(){a("setextHeadingSlurpLineEnding",!0)}function fe(e){const n=this.stack[this.stack.length-1];n.depth=this.sliceSerialize(e).charCodeAt(0)===61?1:2}function de(){a("setextHeadingSlurpLineEnding")}function y(e){const n=this.stack[this.stack.length-1];let c=n.children[n.children.length-1];(!c||c.type!=="text")&&(c=Me(),c.position={start:I(e.start)},n.children.push(c)),this.stack.push(c)}function k(e){const n=this.stack.pop();n.value+=this.sliceSerialize(e),n.position.end=I(e.end)}function ue(e){const n=this.stack[this.stack.length-1];if(o("atHardBreak")){const c=n.children[n.children.length-1];c.position.end=I(e.end),a("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&i.canContainEols.includes(n.type)&&(y.call(this,e),k.call(this,e))}function O(){a("atHardBreak",!0)}function he(){const e=this.resume(),n=this.stack[this.stack.length-1];n.value=e}function pe(){const e=this.resume(),n=this.stack[this.stack.length-1];n.value=e}function ge(){const e=this.resume(),n=this.stack[this.stack.length-1];n.value=e}function me(){const e=this.stack[this.stack.length-1];if(o("inReference")){const n=o("referenceType")||"shortcut";e.type+="Reference",e.referenceType=n,delete e.url,delete e.title}else delete e.identifier,delete e.label;a("referenceType")}function xe(){const e=this.stack[this.stack.length-1];if(o("inReference")){const n=o("referenceType")||"shortcut";e.type+="Reference",e.referenceType=n,delete e.url,delete e.title}else delete e.identifier,delete e.label;a("referenceType")}function ye(e){const n=this.sliceSerialize(e),c=this.stack[this.stack.length-2];c.label=Ue(n),c.identifier=j(n).toLowerCase()}function ke(){const e=this.stack[this.stack.length-1],n=this.resume(),c=this.stack[this.stack.length-1];if(a("inReference",!0),c.type==="link"){const h=e.children;c.children=h}else c.alt=n}function be(){const e=this.resume(),n=this.stack[this.stack.length-1];n.url=e}function Te(){const e=this.resume(),n=this.stack[this.stack.length-1];n.title=e}function Se(){a("inReference")}function we(){a("referenceType","collapsed")}function Ie(e){const n=this.resume(),c=this.stack[this.stack.length-1];c.label=n,c.identifier=j(this.sliceSerialize(e)).toLowerCase(),a("referenceType","full")}function z(e){a("characterReferenceType",e.type)}function Ee(e){const n=this.sliceSerialize(e),c=o("characterReferenceType");let h;c?(h=_e(n,c==="characterReferenceMarkerNumeric"?10:16),a("characterReferenceType")):h=qe(n);const p=this.stack.pop();p.value+=h,p.position.end=I(e.end)}function Le(e){k.call(this,e);const n=this.stack[this.stack.length-1];n.url=this.sliceSerialize(e)}function Fe(e){k.call(this,e);const n=this.stack[this.stack.length-1];n.url="mailto:"+this.sliceSerialize(e)}function Be(){return{type:"blockquote",children:[]}}function M(){return{type:"code",lang:null,meta:null,value:""}}function Re(){return{type:"inlineCode",value:""}}function He(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function je(){return{type:"emphasis",children:[]}}function P(){return{type:"heading",depth:void 0,children:[]}}function D(){return{type:"break"}}function $(){return{type:"html",value:""}}function Ce(){return{type:"image",title:null,url:"",alt:null}}function N(){return{type:"link",title:null,url:"",children:[]}}function V(e){return{type:"list",ordered:e.type==="listOrdered",start:null,spread:e._spread,children:[]}}function We(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function Oe(){return{type:"paragraph",children:[]}}function ze(){return{type:"strong",children:[]}}function Me(){return{type:"text",value:""}}function Pe(){return{type:"thematicBreak"}}}function I(t){return{line:t.line,column:t.column,offset:t.offset}}function K(t,i){let r=-1;for(;++r<i.length;){const s=i[r];Array.isArray(s)?K(t,s):Ye(t,s)}}function Ye(t,i){let r;for(r in i)if(G.call(i,r)){if(r==="canContainEols"){const s=i[r];s&&t[r].push(...s)}else if(r==="transforms"){const s=i[r];s&&t[r].push(...s)}else if(r==="enter"||r==="exit"){const s=i[r];s&&Object.assign(t[r],s)}}}function q(t,i){throw t?new Error("Cannot close `"+t.type+"` ("+B({start:t.start,end:t.end})+"): a different token (`"+i.type+"`, "+B({start:i.start,end:i.end})+") is open"):new Error("Cannot close document, a token (`"+i.type+"`, "+B({start:i.start,end:i.end})+") is still open")}function Ze(t){const i=t.replace(/\n{2,}/g,`
`);return Ne(i)}function ve(t){const i=Ze(t),{children:r}=J(i),s=[[]];let d=0;function a(o,l="normal"){o.type==="text"?o.value.split(`
`).forEach((m,f)=>{f!==0&&(d++,s.push([])),m.split(" ").forEach(S=>{S&&s[d].push({content:S,type:l})})}):(o.type==="strong"||o.type==="emphasis")&&o.children.forEach(u=>{a(u,o.type)})}return r.forEach(o=>{o.type==="paragraph"&&o.children.forEach(l=>{a(l)})}),s}function et(t){const{children:i}=J(t);function r(s){return s.type==="text"?s.value.replace(/\n/g,"<br/>"):s.type==="strong"?`<strong>${s.children.map(r).join("")}</strong>`:s.type==="emphasis"?`<em>${s.children.map(r).join("")}</em>`:s.type==="paragraph"?`<p>${s.children.map(r).join("")}</p>`:`Unsupported markdown: ${s.type}`}return i.map(r).join("")}function tt(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(i=>i.segment):[...t]}function nt(t,i){const r=tt(i.content);return X(t,[],r,i.type)}function X(t,i,r,s){if(r.length===0)return[{content:i.join(""),type:s},{content:"",type:s}];const[d,...a]=r,o=[...i,d];return t([{content:o.join(""),type:s}])?X(t,o,a,s):(i.length===0&&d&&(i.push(d),r.shift()),[{content:i.join(""),type:s},{content:r.join(""),type:s}])}function it(t,i){if(t.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return W(t,i)}function W(t,i,r=[],s=[]){if(t.length===0)return s.length>0&&r.push(s),r.length>0?r:[];let d="";t[0].content===" "&&(d=" ",t.shift());const a=t.shift()??{content:" ",type:"normal"},o=[...s];if(d!==""&&o.push({content:d,type:"normal"}),o.push(a),i(o))return W(t,i,r,o);if(s.length>0)r.push(s),t.unshift(a);else if(a.content){const[l,u]=nt(i,a);r.push([l]),u.content&&t.unshift(u)}return W(t,i,r)}function rt(t,i){i&&t.attr("style",i)}function st(t,i,r,s,d=!1){const a=t.append("foreignObject"),o=a.append("xhtml:div"),l=i.label,u=i.isNode?"nodeLabel":"edgeLabel";o.html(`
    <span class="${u} ${s}" `+(i.labelStyle?'style="'+i.labelStyle+'"':"")+">"+l+"</span>"),rt(o,i.labelStyle),o.style("display","table-cell"),o.style("white-space","nowrap"),o.style("max-width",r+"px"),o.attr("xmlns","http://www.w3.org/1999/xhtml"),d&&o.attr("class","labelBkg");let m=o.node().getBoundingClientRect();return m.width===r&&(o.style("display","table"),o.style("white-space","break-spaces"),o.style("width",r+"px"),m=o.node().getBoundingClientRect()),a.style("width",m.width),a.style("height",m.height),a.node()}function Y(t,i,r){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",i*r-.1+"em").attr("dy",r+"em")}function ct(t,i,r){const s=t.append("text"),d=Y(s,1,i);Z(d,r);const a=d.node().getComputedTextLength();return s.remove(),a}function ot(t,i,r,s=!1){const a=i.append("g"),o=a.insert("rect").attr("class","background"),l=a.append("text").attr("y","-10.1");let u=0;for(const m of r){const f=E=>ct(a,1.1,E)<=t,S=f(m)?[m]:it(m,f);for(const E of S){const R=Y(l,u,1.1);Z(R,E),u++}}if(s){const m=l.node().getBBox(),f=2;return o.attr("x",-f).attr("y",-f).attr("width",m.width+2*f).attr("height",m.height+2*f),a.node()}else return l.node()}function Z(t,i){t.text(""),i.forEach((r,s)=>{const d=t.append("tspan").attr("font-style",r.type==="emphasis"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");s===0?d.text(r.content):d.text(" "+r.content)})}const ft=(t,i="",{style:r="",isTitle:s=!1,classes:d="",useHtmlLabels:a=!0,isNode:o=!0,width:l=200,addSvgBackground:u=!1}={})=>{if(De.info("createText",i,r,s,d,a,o,u),a){const m=et(i),f={isNode:o,label:$e(m).replace(/fa[blrs]?:fa-[\w-]+/g,E=>`<i class='${E.replace(":"," ")}'></i>`),labelStyle:r.replace("fill:","color:")};return st(t,f,l,d,u)}else{const m=ve(i);return ot(l,t,m,u)}};export{ft as c};
